(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{JeIL:function(e,i,t){"use strict";t.r(i);var n=t("ofXK"),o=t("tyNb"),r=t("fXoL"),s=t("2Vo4"),c=t("AytR"),b=t("tk/3");let p=(()=>{class e{constructor(e){this.httpClient=e,this.isLoading$=new s.a(!1),this.impressionModel$=new s.a([])}impressionList(){return this.isLoading$.next(!0),this.httpClient.get(c.a.url+"impressions").subscribe(e=>{this.impressionModel$.next(e),this.isLoading$.next(!1)}),this.impressionModel$}impressionNew(e){return this.isLoading$.next(!0),this.httpClient.post(c.a.url+"impression/new",e).subscribe(e=>{this.impressionModel$.next(e),this.isLoading$.next(!1)}),this.impressionModel$}impressionEdit(e,i){return this.isLoading$.next(!0),this.httpClient.put(c.a.url+"impression/edit/"+i,e).subscribe(e=>{this.impressionModel$.next(e),this.isLoading$.next(!1)}),this.impressionModel$}getImpression(e){return this.isLoading$.next(!0),this.httpClient.get(c.a.url+"impression/"+e).subscribe(e=>{this.impressionModel$.next(e),this.isLoading$.next(!1)}),this.impressionModel$}ngOnDestroy(){this.impressionModel$.unsubscribe()}}return e.\u0275fac=function(i){return new(i||e)(r.Zb(b.a))},e.\u0275prov=r.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=t("f3yp"),a=t("1kSV");function l(e,i){1&e&&(r.Pb(0),r.Nb(1,"app-spinner"),r.Ob())}function d(e,i){if(1&e&&(r.Rb(0,"tbody"),r.Rb(1,"tr"),r.Rb(2,"th",7),r.Nb(3,"img",8),r.Qb(),r.Rb(4,"th",9),r.Cc(5),r.Qb(),r.Rb(6,"th"),r.Cc(7),r.Qb(),r.Rb(8,"th"),r.Cc(9),r.Qb(),r.Rb(10,"th"),r.Cc(11),r.Qb(),r.Rb(12,"th"),r.Rb(13,"a",10),r.Cc(14,"Editer"),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e){const e=i.$implicit;r.zb(3),r.nc("src",e.image,r.vc),r.zb(2),r.Dc(e.game_titre),r.zb(2),r.Dc(e.description),r.zb(2),r.Dc(e.how_end),r.zb(2),r.Ec("",e.taux_de_completion," %"),r.zb(2),r.oc("routerLink","editer/",e.id,"")}}function u(e,i){if(1&e){const e=r.Sb();r.Rb(0,"table",3),r.Rb(1,"thead"),r.Rb(2,"tr"),r.Rb(3,"th",4),r.Cc(4,"#"),r.Qb(),r.Rb(5,"th",4),r.Cc(6,"Titre"),r.Qb(),r.Rb(7,"th",4),r.Cc(8,"Impression"),r.Qb(),r.Rb(9,"th",4),r.Cc(10,"Terminer"),r.Qb(),r.Rb(11,"th",4),r.Cc(12,"Completion"),r.Qb(),r.Rb(13,"th",4),r.Cc(14,"Action"),r.Qb(),r.Qb(),r.Qb(),r.Ac(15,d,15,6,"tbody",5),r.gc(16,"slice"),r.Qb(),r.Rb(17,"ngb-pagination",6),r.dc("pageChange",(function(i){return r.uc(e),r.fc().page=i})),r.Qb()}if(2&e){const e=r.fc();r.zb(15),r.mc("ngForOf",r.jc(16,4,e.impressionModel,(e.page-1)*e.pageSize,(e.page-1)*e.pageSize+e.pageSize)),r.zb(2),r.mc("page",e.page)("pageSize",e.pageSize)("collectionSize",e.impressionModel.length)}}let g=(()=>{class e{constructor(e){this.impressionService=e,this.page=1,this.pageSize=5}ngOnInit(){this.impressionService.impressionList().subscribe(e=>{this.impressionModel=e})}}return e.\u0275fac=function(i){return new(i||e)(r.Mb(p))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-impression-list"]],decls:6,vars:4,consts:[[1,"display-3"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"page","pageSize","collectionSize","pageChange"],["scope","row",1,"image"],["alt","...",1,"d-block","w-50","position-relative",3,"src"],[1,"titre"],[1,"btn","btn-primary",3,"routerLink"]],template:function(e,i){if(1&e&&(r.Rb(0,"h3",0),r.Cc(1,"Liste des impressions"),r.Qb(),r.Ac(2,l,2,0,"ng-container",1),r.gc(3,"async"),r.Ac(4,u,18,8,"ng-template",null,2,r.Bc)),2&e){const e=r.tc(5);r.zb(2),r.mc("ngIf",r.hc(3,2,i.impressionService.isLoading$))("ngIfElse",e)}},directives:[n.m,m.a,n.l,a.b,o.c],pipes:[n.b,n.r],styles:[".image[_ngcontent-%COMP%], .titre[_ngcontent-%COMP%]{width:20%}"]}),e})();var h=t("3Pt+"),f=t("zyZ6");function C(e,i){1&e&&(r.Pb(0),r.Nb(1,"app-spinner"),r.Ob())}function R(e,i){if(1&e&&(r.Rb(0,"option",17),r.Cc(1),r.Qb()),2&e){const e=i.$implicit;r.mc("value",e.id),r.zb(1),r.Dc(e.nom)}}function w(e,i){if(1&e){const e=r.Sb();r.Rb(0,"form",3),r.dc("ngSubmit",(function(){return r.uc(e),r.fc().onSubmitNewForm()})),r.Rb(1,"div",4),r.Rb(2,"label",5),r.Cc(3,"Game"),r.Qb(),r.Rb(4,"select",6),r.Ac(5,R,2,2,"option",7),r.Qb(),r.Rb(6,"label",8),r.Cc(7,"Description"),r.Qb(),r.Nb(8,"textarea",9),r.Rb(9,"div",10),r.Rb(10,"div",11),r.Rb(11,"label",12),r.Cc(12,"Combien Terminer"),r.Qb(),r.Nb(13,"input",13),r.Qb(),r.Rb(14,"div",11),r.Rb(15,"label",14),r.Cc(16,"Taux de completion"),r.Qb(),r.Nb(17,"input",15),r.Qb(),r.Qb(),r.Qb(),r.Rb(18,"button",16),r.Cc(19,"Record"),r.Qb(),r.Qb()}if(2&e){const e=r.fc();r.mc("formGroup",e.gameChoiceForm),r.zb(5),r.mc("ngForOf",e.gameChoice)}}function Q(e,i){1&e&&(r.Pb(0),r.Nb(1,"app-spinner"),r.Ob())}function v(e,i){if(1&e){const e=r.Sb();r.Pb(0),r.Rb(1,"div",5),r.Rb(2,"label",6),r.Cc(3,"Description"),r.Qb(),r.Rb(4,"textarea",7),r.dc("ngModelChange",(function(t){return r.uc(e),i.$implicit.description=t})),r.Qb(),r.Rb(5,"div",8),r.Rb(6,"div",9),r.Rb(7,"label",10),r.Cc(8,"Combien Terminer"),r.Qb(),r.Rb(9,"input",11),r.dc("ngModelChange",(function(t){return r.uc(e),i.$implicit.how_end=t})),r.Qb(),r.Qb(),r.Rb(10,"div",9),r.Rb(11,"label",12),r.Cc(12,"Taux de completion"),r.Qb(),r.Rb(13,"input",13),r.dc("ngModelChange",(function(t){return r.uc(e),i.$implicit.taux_de_completion=t})),r.Qb(),r.Qb(),r.Qb(),r.Nb(14,"br"),r.Nb(15,"img",14),r.Qb(),r.Rb(16,"button",15),r.Cc(17,"Record"),r.Qb(),r.Ob()}if(2&e){const e=i.$implicit;r.zb(4),r.mc("ngModel",e.description),r.zb(5),r.mc("ngModel",e.how_end),r.zb(4),r.mc("ngModel",e.taux_de_completion),r.zb(2),r.nc("src",e.image,r.vc)}}function M(e,i){if(1&e){const e=r.Sb();r.Rb(0,"form",3),r.dc("ngSubmit",(function(){return r.uc(e),r.fc().onSubmitEditForm()})),r.Ac(1,v,18,4,"ng-container",4),r.Qb()}if(2&e){const e=r.fc();r.mc("formGroup",e.impressionEditerForm),r.zb(1),r.mc("ngForOf",e.impressionModel)}}const y=[{path:"",component:g},{path:"new",component:(()=>{class e{constructor(e,i,t,n){this.formBuilder=e,this.gameService=i,this.impressionService=t,this.router=n}ngOnInit(){this.gameService.gameList().subscribe(e=>{this.gameChoice=e}),this.initForm()}initForm(){this.gameChoiceForm=this.formBuilder.group({idGame:new h.c("",[h.q.required]),description:new h.c("",[h.q.required]),howEnd:new h.c("",[h.q.required]),tauxDeCompletion:new h.c("",[h.q.required])})}onSubmitNewForm(){this.impressionService.impressionNew(this.gameChoiceForm.getRawValue()).subscribe(e=>{this.impressionModel=e}),this.router.navigateByUrl("impression")}}return e.\u0275fac=function(i){return new(i||e)(r.Mb(h.b),r.Mb(f.a),r.Mb(p),r.Mb(o.b))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-impression-new"]],decls:6,vars:4,consts:[[1,"display-3"],[4,"ngIf","ngIfElse"],["elseBlock",""],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","game"],["id","game","formControlName","idGame",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","description"],["id","description","formControlName","description",1,"form-control"],[1,"row"],[1,"col"],["for","howEnd"],["id","howEnd","type","number","formControlName","howEnd",1,"form-control"],["for","tauxComplete"],["id","tauxComplete","type","number","step","0.01","formControlName","tauxDeCompletion",1,"form-control"],["type","submit",1,"btn","btn-primary"],[3,"value"]],template:function(e,i){if(1&e&&(r.Rb(0,"h3",0),r.Cc(1,"Ajouter une impression"),r.Qb(),r.Ac(2,C,2,0,"ng-container",1),r.gc(3,"async"),r.Ac(4,w,20,2,"ng-template",null,2,r.Bc)),2&e){const e=r.tc(5);r.zb(2),r.mc("ngIf",r.hc(3,2,i.gameService.isLoading$))("ngIfElse",e)}},directives:[n.m,m.a,h.s,h.j,h.e,h.p,h.i,h.d,n.l,h.a,h.n,h.m,h.r],pipes:[n.b],styles:[""]}),e})()},{path:"editer/:id",component:(()=>{class e{constructor(e,i,t,n){this.formBuilder=e,this.impressionService=i,this.activatedRoute=t,this.router=n}ngOnInit(){this.impressionService.getImpression(parseInt(this.activatedRoute.snapshot.paramMap.get("id"))).subscribe(e=>{this.impressionModel=e}),this.initForm()}initForm(){this.impressionEditerForm=this.formBuilder.group({description:new h.c("",[h.q.required]),howEnd:new h.c("",[h.q.required]),tauxDeCompletion:new h.c("",[h.q.required])})}onSubmitEditForm(){this.impressionService.impressionEdit(this.impressionEditerForm.getRawValue(),parseInt(this.activatedRoute.snapshot.paramMap.get("id"))).subscribe(e=>{this.impressionModel=e}),this.router.navigateByUrl("impression")}}return e.\u0275fac=function(i){return new(i||e)(r.Mb(h.b),r.Mb(p),r.Mb(o.a),r.Mb(o.b))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-impression-editer"]],decls:6,vars:4,consts:[[1,"display-3"],[4,"ngIf","ngIfElse"],["elseBlock",""],[3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],[1,"form-group"],["for","description"],["id","description","formControlName","description",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"col"],["for","howEnd"],["id","howEnd","type","number","formControlName","howEnd",1,"form-control",3,"ngModel","ngModelChange"],["for","tauxComplete"],["id","tauxComplete","type","number","step","0.01","formControlName","tauxDeCompletion",1,"form-control",3,"ngModel","ngModelChange"],["alt","...",1,"d-block","w-25","position-relative",3,"src"],["type","submit",1,"btn","btn-primary"]],template:function(e,i){if(1&e&&(r.Rb(0,"h3",0),r.Cc(1,"Editer une impression"),r.Qb(),r.Ac(2,Q,2,0,"ng-container",1),r.gc(3,"async"),r.Ac(4,M,2,2,"ng-template",null,2,r.Bc)),2&e){const e=r.tc(5);r.zb(2),r.mc("ngIf",r.hc(3,2,i.impressionService.isLoading$))("ngIfElse",e)}},directives:[n.m,m.a,h.s,h.j,h.e,n.l,h.a,h.i,h.d,h.n],pipes:[n.b],styles:[""]}),e})()}];let S=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(i){return new(i||e)},imports:[[o.d.forChild(y)],o.d]}),e})();var z=t("PCNd");t.d(i,"ImpressionModule",(function(){return $}));let $=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(i){return new(i||e)},imports:[[n.c,S,h.o,z.a,a.c]]}),e})()}}]);